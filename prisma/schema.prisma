generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Rant {
  id        Int              @id @default(autoincrement())
  content   String
  nickname  String?
  createdAt DateTime         @default(now())
  reactions EmojiReaction[]  // relation
}

model EmojiReaction {
  id        Int      @id @default(autoincrement())
  rantId    Int
  emoji     String   // e.g. "angry", "sad", etc.
  count     Int      @default(0)

  rant      Rant     @relation(fields: [rantId], references: [id])

  @@unique([rantId, emoji]) // prevent duplicate emoji entries for same rant
}

